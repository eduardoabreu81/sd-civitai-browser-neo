# ğŸ¨ CivitAI Browser Neo

[![Forge Neo](https://img.shields.io/badge/Forge-Neo-blue)](https://github.com/Haoming02/sd-webui-forge-classic/tree/neo)
[![Gradio](https://img.shields.io/badge/Gradio-4.40.0-orange)](https://gradio.app/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

> **Extension for [Stable Diffusion WebUI Forge - Neo](https://github.com/Haoming02/sd-webui-forge-classic/tree/neo)**

Modern fork of sd-civitai-browser-plus optimized for Forge Neo with auto-organization features and support for latest model architectures (FLUX, Pony, Illustrious, Wan, Qwen, Z-Image, and more).

---

## ğŸ“‹ Table of Contents

- [What's New in Neo?](#-whats-new-in-neo)
- [Features](#-features)
- [Installation](#-installation)
- [Auto-Organization System](#-auto-organization-system)
- [Supported Model Types](#-supported-model-types)
- [Settings](#%EF%B8%8F-settings)
- [Credits](#-credits)

---

## âœ¨ What's New in Neo?

### ğŸš€ **Major Features**

#### **1. Smart Auto-Organization** ğŸ“
Automatically organize your models into subfolders by type (SDXL, Pony, FLUX, etc.):
- **Auto-organize downloads**: New downloads go directly to organized folders
- **Organize existing models**: One-click organization of all your models
- **Backup & Rollback**: Safe organization with automatic backup and undo functionality
- **Customizable categories**: Define your own folder structure and detection patterns

#### **2. Modern Model Support** ğŸ¯
Full support for all Forge Neo architectures:
- **SD**: SD1.x and SD2.x (unified)
- **SDXL**: Including Pony and Illustrious variants
- **FLUX**: Dev, Krea, Kontext, Klein (4B/9B)
- **Wan**: Wan 2.2 (T2V, I2V)
- **Qwen**: Qwen-Image, Qwen-Image-Edit
- **Z-Image**: Z-Image, Z-Image-Turbo
- **Lumina**: Neta-Lumina, NetaYume-Lumina
- **Anima**, **Cascade**, **PixArt**, **Playground**
- **SVD**, **Hunyuan**, **Kolors**, **AuraFlow**, **Chroma**

#### **3. Gradio 4.x Migration** ğŸ”„
- Complete migration to Gradio 4.40.0 (Forge Neo compatible)
- Modern UI components and improved performance
- Better error handling and stability

#### **4. Safety Features** ğŸ›¡ï¸
- **Automatic backups** before any organization
- **One-click rollback** to undo changes
- **Backup history** (keeps last 5 operations)
- **Safe execution** (cancels if backup fails)

---

## ğŸ¯ Features

### Core Features (from Original)

<details open>
<summary><b>Browse & Download</b></summary>

- ğŸ§© **Browse all models** from CivitAI
- ğŸ“¥ **Download any model**, version, and file
- ğŸš„ **High-speed downloads** with Aria2
- ğŸ“Š **Queue system** for batch downloads
- ğŸ·ï¸ **Auto-tag** installed models
- ğŸ” **Search by hash** to identify unknown models

</details>

<details open>
<summary><b>Model Management</b></summary>

- ğŸ“ **Auto-organize** by model type (NEW in Neo!)
- â†¶ **Undo organization** with one click
- ğŸ’¾ **Automatic backups** before changes
- ğŸ—‚ï¸ **Custom categories** for organization
- ğŸ”„ **Update model info & tags**
- ğŸ–¼ï¸ **Download preview images**
- ğŸ“‹ **Generate model info HTML**

</details>

<details open>
<summary><b>Integration</b></summary>

- ğŸ¨ **Quick access** from txt2img/img2img
- ğŸ“¤ **Send prompts** to txt2img
- ğŸ”— **CivitAI API** integration
- âš™ï¸ **Extensive settings**

</details>

### Improvements from Anxety-Solo Fork

- ğŸ¨ Modern, redesigned model cards
- ğŸ“… Neat brick-style date sorting
- ğŸ·ï¸ Visual badges for model type and NSFW
- ğŸ’ Gold badges for paid models
- ğŸ” Exact search toggle
- ğŸ–¼ï¸ Customizable preview resolution
- ğŸ“± Better responsive design
- ğŸ› Multiple bugfixes from community issues

---

## ğŸ“¦ Installation

### For Forge Neo

1. Open Forge Neo WebUI
2. Navigate to **Extensions** â†’ **Install from URL**
3. Paste: `https://github.com/eduardoabreu81/sd-civitai-browser-neo`
4. Click **Install** and reload WebUI

### Requirements

- âœ… [Stable Diffusion WebUI Forge - Neo](https://github.com/Haoming02/sd-webui-forge-classic/tree/neo)
- âœ… Python 3.10+ (3.13 recommended)
- âœ… Gradio 4.39.0+ (comes with Forge Neo)

> âš ï¸ **Note**: This extension is designed for **Forge Neo only**. For Forge Classic or Automatic1111, use the original [sd-civitai-browser-plus](https://github.com/anxety-solo/sd-civitai-browser-plus).

---

## ğŸ“ Auto-Organization System

### How It Works

The organization system analyzes your models based on their `baseModel` metadata (stored in `.json` files) and automatically organizes them into subfolders.

#### **Before Organization:**
```
models/Lora/
â”œâ”€â”€ model1.safetensors (SDXL)
â”œâ”€â”€ model2.safetensors (Pony)
â”œâ”€â”€ model3.safetensors (FLUX)
â”œâ”€â”€ random_folder/
â”‚   â””â”€â”€ model4.safetensors (SD1.5)
â””â”€â”€ ...
```

#### **After Organization:**
```
models/Lora/
â”œâ”€â”€ SDXL/
â”‚   â”œâ”€â”€ model1.safetensors
â”‚   â”œâ”€â”€ model1.json
â”‚   â””â”€â”€ model1.png
â”œâ”€â”€ Pony/
â”‚   â””â”€â”€ model2.safetensors
â”œâ”€â”€ FLUX/
â”‚   â””â”€â”€ model3.safetensors
â”œâ”€â”€ SD/
â”‚   â””â”€â”€ model4.safetensors
â””â”€â”€ ...
```

### Usage

#### **Option 1: Auto-Organize New Downloads**

1. Go to **Settings** â†’ **Model Organization**
2. Enable **"Auto-organize downloads by model type"**
3. New downloads will automatically go to organized folders

#### **Option 2: Organize Existing Models**

1. Go to **CivitAI Browser Neo** tab
2. Go to **Update Models** sub-tab
3. Select model types (e.g., LORA)
4. Click **"ğŸ“ Organize models into subfolders by type"**
5. Wait for completion
6. (Optional) Click **"â†¶ Undo Last Organization"** if needed

### Safety Features

- âœ… **Automatic Backup**: Creates backup before any operation
- âœ… **One-Click Undo**: Restore original structure anytime
- âœ… **Associated Files**: Moves `.json`, `.png`, `.txt` files together
- âœ… **Conflict Detection**: Skips files that already exist at destination
- âœ… **Error Recovery**: Continues operation even if some files fail

---

## ğŸ¨ Supported Model Types

The Neo version includes detection for all modern architectures supported by Forge Neo:

| Category | Detection patterns | Notes |
|----------|-------------------|-------|
| **SD** | SD 1, SD1, SD 2, SD2 | Unified SD versions |
| **SDXL** | SDXL | Base SDXL |
| **Pony** | PONY | Pony V6 and variants |
| **Illustrious** | ILLUSTRIOUS | Illustrious XL |
| **FLUX** | FLUX | Dev, Krea, Kontext, Klein |
| **Wan** | WAN | Wan 2.2 T2V/I2V |
| **Qwen** | QWEN | Qwen-Image, Edit |
| **Z-Image** | Z-IMAGE, ZIMAGE | Z-Image, Turbo |
| **Lumina** | LUMINA | Lumina-Image 2.0 |
| **Anima** | ANIMA | Anima |
| **Cascade** | CASCADE | Stable Cascade |
| **PixArt** | PIXART | PixArt |
| **Playground** | PLAYGROUND | Playground |
| **SVD** | SVD, STABLE VIDEO | Video Diffusion |
| **Hunyuan** | HUNYUAN | Hunyuan |
| **Kolors** | KOLORS | Kolors |
| **AuraFlow** | AURAFLOW | AuraFlow |
| **Chroma** | CHROMA | Chroma1-HD |
| **Other** | (unrecognized) | Configurable |

### Custom Categories

You can define your own categories in **Settings** â†’ **Model Organization** using JSON format:

```json
{
  "SD": ["SD 1", "SD1", "SD 2", "SD2"],
  "SDXL": ["SDXL"],
  "MyCustomType": ["CUSTOM", "PATTERN"],
  "AnotherType": ["KEYWORD1", "KEYWORD2"]
}
```

---

## âš™ï¸ Settings

### Model Organization (New!)

| Setting | Description | Default |
|---------|-------------|---------|
| **Auto-organize downloads** | Automatically organize new downloads into subfolders | OFF |
| **Create "Other" folder** | Put unrecognized models in "Other/" folder | ON |
| **Custom categories** | JSON with custom folder names and patterns | (empty) |

### Browser Settings

| Setting | Description |
|---------|-------------|
| **Personal API key** | Your CivitAI API key (required for some downloads) |
| **Hide early access** | Hide early access models from results |
| **Hide dot subfolders** | Hide folders starting with `.` |
| **Use local HTML** | Use local HTML files instead of CivitAI links |
| **Page navigation header** | Keep page navigation always visible |
| **Video playback** | Enable gif/video playback in browser |
| **Resize preview cards** | Resize preview images for faster loading |

### Download Settings

| Setting | Description |
|---------|-------------|
| **Download method** | Choose between Default or Aria2 |
| **Aria2 connections** | Number of connections for Aria2 (1-64) |
| **Auto-save images** | Automatically download preview images |
| **Image count** | Number of images to save (4-64) |
| **Unpack ZIP** | Automatically extract .zip files |
| **Save HTML on download** | Save HTML file with model info |

---

##  Known Issues

- Some models may not have `baseModel` metadata (download from CivitAI to get it)
- Rollback only works for the last operation
- Maximum 5 backups are kept (older ones are deleted)

## ğŸ’¡ Tips

- **First time using?** Update model info & tags to generate `.json` files with metadata
- **Want custom folders?** Edit JSON in Settings â†’ Model Organization
- **Made a mistake?** Use "Undo Organization" button immediately
- **Need help?** Check console logs (`[CivitAI Browser Neo]` prefix)

---

## ğŸ“„ Credits

### Original Project
- **[sd-civitai-browser](https://github.com/Vetchems/sd-civitai-browser)** by Vetchems
- **[sd-civitai-browser-plus](https://github.com/BlafKing/sd-civitai-browser-plus)** by BlafKing

### Anxety-Solo Fork
- **[sd-civitai-browser-plus](https://github.com/anxety-solo/sd-civitai-browser-plus)** by anxety-solo
  - Modern UI redesign
  - Quality of life improvements
  - Multiple bugfixes

### Neo Version
- **[sd-civitai-browser-neo](https://github.com/eduardoabreu81/sd-civitai-browser-neo)** by Eduardo Abreu
  - Forge Neo compatibility (Gradio 4.x)
  - Auto-organization system
  - Modern model support (FLUX, Pony, Wan, Qwen, etc)
  - Backup & rollback system

### Special Thanks
- **[Forge Neo](https://github.com/Haoming02/sd-webui-forge-classic/tree/neo)** by Haoming02
- All contributors to the original projects
- CivitAI for their amazing API

---

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ¤ Contributing

Contributions are welcome! Feel free to:
- ğŸ› Report bugs
- ğŸ’¡ Suggest new features
- ğŸ”§ Submit pull requests
- ğŸ“– Improve documentation

---

## â˜• Support

If you find this extension helpful, consider:
- â­ Starring the repository
- ğŸ› Reporting issues
- ğŸ“¢ Sharing with others
- â˜• [Buy me a coffee](https://ko-fi.com/eduardoabreu81)

---

<div align="center">

Made with â¤ï¸ for the Stable Diffusion community

**[Report Bug](https://github.com/eduardoabreu81/sd-civitai-browser-neo/issues)** â€¢ **[Request Feature](https://github.com/eduardoabreu81/sd-civitai-browser-neo/issues)** â€¢ **[Discussions](https://github.com/eduardoabreu81/sd-civitai-browser-neo/discussions)**

</div>
